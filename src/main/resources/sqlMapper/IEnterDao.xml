<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.medicine.dao.IEnterDao">
	<!-- 登录 -->
	<select id="login" parameterType="User" resultType="UserView">
		select
		user_id as id,
		user_name as name,
		user_password as password,
		user_verification as verification
		from t_users u where
		u.user_name = #{name}
		<if test="password != null">
			and u.user_password = #{password}
		</if>
		<if test="verification != null">
			and u.user_verification = #{verification}
		</if>
	</select>
	<select id="checkLoginName" parameterType="java.lang.String"
		resultType="java.lang.String">
		select user_name from t_users where user_name = #{lgName}
	</select>
	<insert id="register" parameterType="User">
		insert into
		t_users(user_name,user_password,user_email) values(#{name},#{password},#{email})
	</insert>
</mapper>