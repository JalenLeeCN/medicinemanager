<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.medicine.dao.IMedicineDao">
	<!-- 查询已入库药品简单信息 -->
	<select id="querySimpleInfo" parameterType="Page" resultType="DrugInfoView">
		select
			d.name, p.name as providersName, m.name as manufacturerName
		from
			drug_info d
				left join
			providers p ON d.providers_id = p.id
				left join
			manufacturer m ON d.manufacturer_id = m.id
		where
    		d.store_flag = 1
		limit #{offset},#{pageSize};
	</select>
	<!-- 查询已入库药品数量 -->
	<select id="queryDrugCount" parameterType="Page" resultType="java.lang.Integer">
		select 
    		count(*)
		from
    		drug_info
		where
    		d.store_flag = 1
		limit #{offset},#{pageSize};
	</select>
	
</mapper>